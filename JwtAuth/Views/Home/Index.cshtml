@{
    ViewData["Title"] = "Home";
}

@if (User.Identity?.IsAuthenticated == true)
{
    <div class="hero-section text-center py-5 bg-light rounded-3 mb-5">
        <div class="container">
            <h1 class="display-4 fw-bold text-primary">Welcome back, @User.Identity.Name!</h1>
            <p class="lead">You're now logged in to JWT Authentication Demo</p>
            
            @if (ViewBag.IsAdmin)
            {
                <span class="badge bg-danger mb-3">
                    <i class="fas fa-shield-alt me-1"></i> Administrator
                </span>
            }
            
            <div class="mt-4">
                <a asp-controller="Home" asp-action="Dashboard" class="btn btn-primary btn-lg me-3">
                    <i class="fas fa-tachometer-alt me-2"></i>Go to Dashboard
                </a>
                <a asp-controller="Auth" asp-action="Info" class="btn btn-outline-secondary btn-lg">
                    <i class="fas fa-user me-2"></i>View Profile
                </a>
            </div>
        </div>
    </div>
    
    <div class="row g-4">
        <div class="col-md-4">
            <div class="card h-100">
                <div class="card-body text-center">
                    <i class="fas fa-shield-alt fa-3x text-primary mb-3"></i>
                    <h5>Test Authentication</h5>
                    <p>Verify your JWT authentication is working correctly.</p>
                    <a asp-controller="Auth" asp-action="TestAuth" class="btn btn-outline-primary">
                        <i class="fas fa-lock me-1"></i> Test Now
                    </a>
                </div>
            </div>
        </div>
        
        @if (ViewBag.IsAdmin)
        {
            <div class="col-md-4">
                <div class="card h-100 border-warning">
                    <div class="card-body text-center">
                        <i class="fas fa-user-shield fa-3x text-warning mb-3"></i>
                        <h5>Admin Panel</h5>
                        <p>Access administrative functions and user management.</p>
                        <a asp-controller="Auth" asp-action="AdminOnly" class="btn btn-warning">
                            <i class="fas fa-cog me-1"></i> Admin Area
                        </a>
                    </div>
                </div>
            </div>
        }
        
        <div class="col-md-4">
            <div class="card h-100">
                <div class="card-body text-center">
                    <i class="fas fa-info-circle fa-3x text-info mb-3"></i>
                    <h5>About This Demo</h5>
                    <p>Learn more about JWT authentication in ASP.NET Core.</p>
                    <a href="#" class="btn btn-outline-info" data-bs-toggle="modal" data-bs-target="#aboutModal">
                        <i class="fas fa-info-circle me-1"></i> Learn More
                    </a>
                </div>
            </div>
        </div>
    </div>
}
else
{
    <div class="hero-section text-center py-5 bg-light rounded-3 mb-5">
        <div class="container">
            <h1 class="display-4 fw-bold text-primary">JWT Authentication Demo</h1>
            <p class="lead">A secure authentication system using JSON Web Tokens (JWT) in ASP.NET Core</p>
            
            <div class="mt-4">
                <a asp-controller="Auth" asp-action="Login" class="btn btn-primary btn-lg me-3">
                    <i class="fas fa-sign-in-alt me-2"></i>Login
                </a>
                <a asp-controller="Auth" asp-action="Register" class="btn btn-outline-primary btn-lg">
                    <i class="fas fa-user-plus me-2"></i>Register
                </a>
            </div>
        </div>
    </div>
    
    <div class="row g-4">
        <div class="col-md-4">
            <div class="card h-100">
                <div class="card-body text-center">
                    <i class="fas fa-lock fa-3x text-primary mb-3"></i>
                    <h5>Secure Authentication</h5>
                    <p>Experience secure JWT-based authentication with role-based authorization.</p>
                </div>
            </div>
        </div>
        
        <div class="col-md-4">
            <div class="card h-100">
                <div class="card-body text-center">
                    <i class="fas fa-shield-alt fa-3x text-success mb-3"></i>
                    <h5>Protected Routes</h5>
                    <p>Access control for different user roles and permissions.</p>
                </div>
            </div>
        </div>
        
        <div class="col-md-4">
            <div class="card h-100">
                <div class="card-body text-center">
                    <i class="fas fa-mobile-alt fa-3x text-info mb-3"></i>
                    <h5>Responsive Design</h5>
                    <p>Works seamlessly on all devices and screen sizes.</p>
                </div>
            </div>
        </div>
    </div>
}

<!-- About Modal -->
<div class="modal fade" id="aboutModal" tabindex="-1" aria-labelledby="aboutModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header bg-primary text-white">
                <h5 class="modal-title" id="aboutModalLabel">About JWT Authentication Demo</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>This is a demonstration of JWT (JSON Web Token) authentication in an ASP.NET Core MVC application.</p>
                <h6 class="mt-4">Features:</h6>
                <ul class="list-unstyled">
                    <li><i class="fas fa-check-circle text-success me-2"></i>User Registration & Login</li>
                    <li><i class="fas fa-check-circle text-success me-2"></i>JWT-based Authentication</li>
                    <li><i class="fas fa-check-circle text-success me-2"></i>Role-based Authorization</li>
                    <li><i class="fas fa-check-circle text-success me-2"></i>Secure API Endpoints</li>
                    <li><i class="fas fa-check-circle text-success me-2"></i>Responsive Design</li>
                </ul>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

@section Styles {
    <style>
        .hero-section {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            padding: 4rem 0;
            margin-bottom: 3rem;
            border-radius: 0.5rem;
        }
        
        .card {
            transition: transform 0.2s, box-shadow 0.2s;
            border: none;
            border-radius: 0.5rem;
            overflow: hidden;
            box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);
            height: 100%;
        }
        
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15);
        }
        
        .card-body {
            padding: 2rem 1.5rem;
        }
        
        .btn-lg {
            padding: 0.5rem 1.5rem;
            font-weight: 500;
        }
        
        .badge {
            font-size: 0.9rem;
            padding: 0.5rem 1rem;
            border-radius: 50rem;
        }
    </style>
}
